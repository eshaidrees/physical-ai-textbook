"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[28],{6414(n,e,a){a.r(e),a.d(e,{default:()=>l});var t=a(6540),r=a(9512),o=a(7710),s=a(4848);const i=()=>{const[n,e]=(0,t.useState)([]),[a,r]=(0,t.useState)(""),[i,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),m=(0,t.useRef)(null),h=(0,t.useRef)(null),{colorMode:p}=(0,o.G)();(0,t.useEffect)(()=>{const n=localStorage.getItem("prepopulatedChatText");n&&(localStorage.removeItem("prepopulatedChatText"),r(n))},[]);(0,t.useEffect)(()=>{m.current?.scrollIntoView({behavior:"smooth"})},[n]);const u=async()=>{if(!a.trim()||i)return;const t={role:"user",content:a,timestamp:new Date};e(n=>[...n,t]),r(""),l(!0);try{const t=await fetch("http://localhost:8000/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:a,history:n.map(n=>({role:n.role,content:n.content}))})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=await t.json(),o={role:"assistant",content:r.response,sources:r.sources||[],timestamp:new Date};e(n=>[...n,o])}catch(o){console.error("Error sending message:",o);const n={role:"assistant",content:`Sorry, I encountered an error: ${o.message}. Please try again.`,timestamp:new Date};e(e=>[...e,n])}finally{l(!1)}},g=()=>{const n=window.getSelection().toString().trim();n&&(d(n),setTimeout(()=>{h.current&&(h.current.focus(),r(e=>e+(e?" ":"")+n))},100))};(0,t.useEffect)(()=>{const n=()=>{setTimeout(g,0)};return document.addEventListener("mouseup",n),document.addEventListener("keyup",g),()=>{document.removeEventListener("mouseup",n),document.removeEventListener("keyup",g)}},[]);return(0,s.jsxs)("div",{className:`chat-container ${p}`,role:"main","aria-label":"AI Chat Interface",children:[(0,s.jsxs)("div",{className:"chat-header",role:"banner",children:[(0,s.jsx)("h3",{children:"AI Textbook Assistant"}),(0,s.jsx)("p",{children:"Ask questions about Physical AI & Humanoid Robotics"})]}),(0,s.jsxs)("div",{className:"chat-messages",role:"log","aria-live":"polite",children:[0===n.length?(0,s.jsxs)("div",{className:"welcome-message",role:"article",children:[(0,s.jsx)("p",{children:"Hello! I'm your AI assistant for the Physical AI & Humanoid Robotics textbook."}),(0,s.jsx)("p",{children:"Ask me anything about the content, or select text on the page and I can provide more information."}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:'Ask about concepts like "Physical AI", "Humanoid Robotics", "ROS 2", etc.'}),(0,s.jsx)("li",{children:"Select text on the page and I'll provide more context"}),(0,s.jsx)("li",{children:"Ask for explanations of complex topics"})]})]}):n.map((n,e)=>(0,s.jsx)("div",{className:`message ${n.role}`,role:"article","aria-label":`${n.role} message`,children:(0,s.jsxs)("div",{className:"message-content",children:[(0,s.jsx)("div",{className:"message-text",tabIndex:"0","aria-label":`Message content: ${n.content}`,children:n.content}),n.sources&&n.sources.length>0&&(0,s.jsx)("div",{className:"sources",children:(0,s.jsxs)("details",{children:[(0,s.jsx)("summary",{"aria-label":"Toggle sources visibility",children:"Sources:"}),(0,s.jsx)("ul",{children:n.sources.map((n,e)=>(0,s.jsxs)("li",{"aria-label":`Source: ${n.source}`,children:[(0,s.jsx)("strong",{children:n.source}),": ",n.text]},e))})]})}),(0,s.jsx)("button",{className:"copy-button",onClick:()=>{return e=n.content,void navigator.clipboard.writeText(e);var e},title:"Copy to clipboard","aria-label":`Copy message to clipboard: ${n.content.substring(0,50)}...`,children:"Copy"})]})},e)),i&&(0,s.jsx)("div",{className:"message assistant",role:"status","aria-label":"Assistant is typing",children:(0,s.jsx)("div",{className:"message-content",children:(0,s.jsxs)("div",{className:"typing-indicator","aria-label":"Assistant is typing",children:[(0,s.jsx)("span",{"aria-hidden":"true"}),(0,s.jsx)("span",{"aria-hidden":"true"}),(0,s.jsx)("span",{"aria-hidden":"true"})]})})}),(0,s.jsx)("div",{ref:m,"aria-hidden":"true"})]}),(0,s.jsxs)("div",{className:"chat-input-area",role:"form","aria-label":"Chat input area",children:[(0,s.jsx)("textarea",{ref:h,value:a,onChange:n=>r(n.target.value),onKeyDown:n=>{"Enter"!==n.key||n.shiftKey||(n.preventDefault(),u())},placeholder:"Ask a question about the textbook content...",rows:"3",disabled:i,"aria-label":"Type your message here","aria-required":"true"}),(0,s.jsx)("button",{onClick:u,disabled:!a.trim()||i,className:"send-button","aria-label":"Send message",children:i?"Sending...":"Send"})]}),c&&(0,s.jsxs)("div",{className:"selected-text-notification",role:"status","aria-live":"polite","aria-label":`Selected text: ${c}`,children:['Selected: "',c.substring(0,50),c.length>50?"...":"",'"']}),(0,s.jsx)("style",{jsx:!0,children:`\n        .chat-container {\n          max-width: 800px;\n          margin: 2rem auto;\n          border: 1px solid var(--ifm-color-emphasis-300);\n          border-radius: 8px;\n          overflow: hidden;\n          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n          display: flex;\n          flex-direction: column;\n          height: 600px;\n          background-color: var(--ifm-background-surface-color);\n          color: var(--ifm-font-color-base);\n        }\n\n        .chat-container.dark {\n          background-color: #242526;\n          color: #e4e5e6;\n        }\n\n        .chat-header {\n          background-color: var(--ifm-color-primary);\n          color: white;\n          padding: 1rem;\n        }\n\n        .chat-header h3 {\n          margin: 0 0 0.5rem 0;\n        }\n\n        .chat-header p {\n          margin: 0;\n          font-size: 0.9rem;\n          opacity: 0.9;\n        }\n\n        .chat-messages {\n          flex: 1;\n          overflow-y: auto;\n          padding: 1rem;\n          display: flex;\n          flex-direction: column;\n          gap: 1rem;\n        }\n\n        .welcome-message {\n          text-align: center;\n          padding: 2rem;\n          color: var(--ifm-color-emphasis-600);\n        }\n\n        .welcome-message ul {\n          text-align: left;\n          max-width: 500px;\n          margin: 1rem auto;\n        }\n\n        .message {\n          max-width: 85%;\n          align-self: ${n=>"user"===n.role?"flex-end":"flex-start"};\n        }\n\n        .message.user {\n          align-self: flex-end;\n        }\n\n        .message.assistant {\n          align-self: flex-start;\n        }\n\n        .message-content {\n          position: relative;\n          padding: 0.75rem 1rem;\n          border-radius: 12px;\n          position: relative;\n        }\n\n        .message.user .message-content {\n          background-color: var(--ifm-color-primary);\n          color: white;\n        }\n\n        .message.assistant .message-content {\n          background-color: var(--ifm-color-emphasis-100);\n          color: var(--ifm-font-color-base);\n        }\n\n        .dark .message.assistant .message-content {\n          background-color: #3a3b3c;\n        }\n\n        .message-text {\n          margin-bottom: 0.5rem;\n          line-height: 1.5;\n        }\n\n        .sources {\n          font-size: 0.85rem;\n          margin-top: 0.5rem;\n          padding-top: 0.5rem;\n          border-top: 1px solid var(--ifm-color-emphasis-300);\n        }\n\n        .sources summary {\n          cursor: pointer;\n          margin-bottom: 0.5rem;\n        }\n\n        .sources ul {\n          margin: 0.5rem 0 0 0;\n          padding-left: 1rem;\n        }\n\n        .sources li {\n          margin-bottom: 0.5rem;\n        }\n\n        .copy-button {\n          position: absolute;\n          top: 0.25rem;\n          right: 0.25rem;\n          background: none;\n          border: none;\n          color: var(--ifm-color-emphasis-600);\n          cursor: pointer;\n          font-size: 0.75rem;\n          opacity: 0.6;\n        }\n\n        .copy-button:hover {\n          opacity: 1;\n        }\n\n        .typing-indicator {\n          display: flex;\n          gap: 0.25rem;\n        }\n\n        .typing-indicator span {\n          width: 8px;\n          height: 8px;\n          background-color: var(--ifm-color-emphasis-600);\n          border-radius: 50%;\n          display: inline-block;\n          animation: typing 1.4s infinite ease-in-out;\n        }\n\n        .typing-indicator span:nth-child(2) {\n          animation-delay: 0.2s;\n        }\n\n        .typing-indicator span:nth-child(3) {\n          animation-delay: 0.4s;\n        }\n\n        @keyframes typing {\n          0%, 60%, 100% { transform: translateY(0); }\n          30% { transform: translateY(-5px); }\n        }\n\n        .chat-input-area {\n          padding: 1rem;\n          border-top: 1px solid var(--ifm-color-emphasis-300);\n          display: flex;\n          gap: 0.5rem;\n        }\n\n        textarea {\n          flex: 1;\n          padding: 0.75rem;\n          border: 1px solid var(--ifm-color-emphasis-300);\n          border-radius: 6px;\n          resize: none;\n          font-family: inherit;\n          background-color: var(--ifm-background-surface-color);\n          color: var(--ifm-font-color-base);\n        }\n\n        textarea:focus {\n          outline: none;\n          border-color: var(--ifm-color-primary);\n        }\n\n        .send-button {\n          padding: 0.75rem 1.5rem;\n          background-color: var(--ifm-color-primary);\n          color: white;\n          border: none;\n          border-radius: 6px;\n          cursor: pointer;\n          white-space: nowrap;\n        }\n\n        .send-button:disabled {\n          background-color: var(--ifm-color-emphasis-300);\n          cursor: not-allowed;\n        }\n\n        .selected-text-notification {\n          background-color: #e3f2fd;\n          color: #1976d2;\n          padding: 0.5rem 1rem;\n          font-size: 0.85rem;\n          text-align: center;\n          border-top: 1px solid #bbdefb;\n        }\n\n        .dark .selected-text-notification {\n          background-color: #193a56;\n          color: #90caf9;\n          border-top: 1px solid #152d4a;\n        }\n\n        /* Responsive design */\n        @media (max-width: 768px) {\n          .chat-container {\n            margin: 1rem 1rem;\n            height: 500px;\n            max-width: 100%;\n          }\n\n          .chat-header {\n            padding: 0.75rem;\n          }\n\n          .chat-header h3 {\n            font-size: 1.25rem;\n          }\n\n          .chat-messages {\n            padding: 0.75rem;\n          }\n\n          .message {\n            max-width: 90%;\n          }\n\n          .chat-input-area {\n            padding: 0.75rem;\n            flex-direction: column;\n          }\n\n          textarea {\n            width: 100%;\n          }\n\n          .send-button {\n            align-self: flex-end;\n            width: auto;\n            min-width: 80px;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .chat-container {\n            height: 400px;\n            margin: 0.5rem 0.5rem;\n          }\n\n          .chat-header h3 {\n            font-size: 1.1rem;\n          }\n\n          .welcome-message {\n            padding: 1rem;\n          }\n\n          .welcome-message ul {\n            padding-left: 1rem;\n          }\n\n          .message-content {\n            padding: 0.5rem 0.75rem;\n          }\n        }\n      `})]})};const l=function(){return(0,s.jsx)(r.A,{title:"AI Chatbot",description:"Chat with the Physical AI & Humanoid Robotics textbook using our AI-powered assistant",children:(0,s.jsx)("div",{className:"container margin-vert--lg",children:(0,s.jsx)("div",{className:"row",children:(0,s.jsxs)("div",{className:"col col--12",children:[(0,s.jsx)("h1",{children:"AI-Powered Textbook Assistant"}),(0,s.jsx)("p",{children:"Ask questions about Physical AI & Humanoid Robotics, and our AI assistant will provide answers based on the textbook content. Select text on any page and ask questions about it for more context."}),(0,s.jsx)(i,{})]})})})})}}}]);