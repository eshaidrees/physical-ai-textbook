"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[396],{3132(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"ros-fundamentals/architecture","title":"ROS 2 Architecture and Concepts","description":"The Robot Operating System 2 (ROS 2) provides a flexible framework for developing robot applications. This chapter covers the fundamental architecture and concepts that form the foundation of ROS 2.","source":"@site/docs/ros-fundamentals/architecture.md","sourceDirName":"ros-fundamentals","slug":"/ros-fundamentals/architecture","permalink":"/physical-ai-textbook/docs/ros-fundamentals/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/eshaidrees/physical-ai-textbook/edit/main/website/docs/ros-fundamentals/architecture.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Anatomy and Kinematics of Humanoid Robots","permalink":"/physical-ai-textbook/docs/robotics/anatomy"},"next":{"title":"Digital Twin Simulation: Gazebo and Isaac Sim","permalink":"/physical-ai-textbook/docs/digital-twin-simulation/environment-overview"}}');var r=i(4848),l=i(8453);const a={},t="ROS 2 Architecture and Concepts",c={},o=[{value:"ROS 2 Overview",id:"ros-2-overview",level:2},{value:"Core Architecture",id:"core-architecture",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Topics and Publishers/Subscribers",id:"topics-and-publisherssubscribers",level:3},{value:"Services",id:"services",level:3},{value:"Actions",id:"actions",level:3},{value:"Communication Patterns",id:"communication-patterns",level:2},{value:"Publisher-Subscriber Pattern",id:"publisher-subscriber-pattern",level:3},{value:"Client-Server Pattern",id:"client-server-pattern",level:3},{value:"Quality of Service (QoS)",id:"quality-of-service-qos",level:2},{value:"Package Management",id:"package-management",level:2},{value:"Packages",id:"packages",level:3},{value:"Package Structure",id:"package-structure",level:3},{value:"Build System",id:"build-system",level:2},{value:"Launch Files",id:"launch-files",level:2},{value:"Parameter Management",id:"parameter-management",level:2},{value:"Tools and Utilities",id:"tools-and-utilities",level:2},{value:"Command Line Tools",id:"command-line-tools",level:3},{value:"Visualization Tools",id:"visualization-tools",level:3},{value:"Security Features",id:"security-features",level:2},{value:"Migration from ROS 1",id:"migration-from-ros-1",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"ros-2-architecture-and-concepts",children:"ROS 2 Architecture and Concepts"})}),"\n",(0,r.jsx)(n.p,{children:"The Robot Operating System 2 (ROS 2) provides a flexible framework for developing robot applications. This chapter covers the fundamental architecture and concepts that form the foundation of ROS 2."}),"\n",(0,r.jsx)(n.h2,{id:"ros-2-overview",children:"ROS 2 Overview"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 is a collection of software frameworks for robot software development. It provides:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Hardware abstraction"}),"\n",(0,r.jsx)(n.li,{children:"Device drivers"}),"\n",(0,r.jsx)(n.li,{children:"Libraries for implementing common robot functionality"}),"\n",(0,r.jsx)(n.li,{children:"Message-passing between processes"}),"\n",(0,r.jsx)(n.li,{children:"Package management"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"core-architecture",children:"Core Architecture"}),"\n",(0,r.jsx)(n.h3,{id:"nodes",children:"Nodes"}),"\n",(0,r.jsx)(n.p,{children:"Nodes are processes that perform computation. In ROS 2:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Each node runs a specific task or function"}),"\n",(0,r.jsx)(n.li,{children:"Nodes communicate with each other through topics, services, and actions"}),"\n",(0,r.jsx)(n.li,{children:"Nodes can be written in different programming languages (C++, Python, etc.)"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"topics-and-publisherssubscribers",children:"Topics and Publishers/Subscribers"}),"\n",(0,r.jsx)(n.p,{children:"Topics enable asynchronous message passing between nodes:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Publishers send messages to topics"}),"\n",(0,r.jsx)(n.li,{children:"Subscribers receive messages from topics"}),"\n",(0,r.jsx)(n.li,{children:"Multiple publishers and subscribers can use the same topic"}),"\n",(0,r.jsx)(n.li,{children:"Communication is decoupled in time and space"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"services",children:"Services"}),"\n",(0,r.jsx)(n.p,{children:"Services enable synchronous request/response communication:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A service client sends a request"}),"\n",(0,r.jsx)(n.li,{children:"A service server processes the request and sends a response"}),"\n",(0,r.jsx)(n.li,{children:"Useful for operations that require a specific response"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"actions",children:"Actions"}),"\n",(0,r.jsx)(n.p,{children:"Actions provide a way to send goals to servers and receive feedback:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Used for long-running tasks"}),"\n",(0,r.jsx)(n.li,{children:"Supports preemption (canceling in-progress goals)"}),"\n",(0,r.jsx)(n.li,{children:"Provides feedback during execution"}),"\n",(0,r.jsx)(n.li,{children:"Reports results upon completion"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"communication-patterns",children:"Communication Patterns"}),"\n",(0,r.jsx)(n.h3,{id:"publisher-subscriber-pattern",children:"Publisher-Subscriber Pattern"}),"\n",(0,r.jsx)(n.p,{children:"The publisher-subscriber pattern enables decoupled communication:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Publisher example\npublisher = node.create_publisher(String, 'topic_name', 10)\n\n# Subscriber example\nsubscriber = node.create_subscription(String, 'topic_name', callback, 10)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"client-server-pattern",children:"Client-Server Pattern"}),"\n",(0,r.jsx)(n.p,{children:"The client-server pattern enables synchronous communication:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Service server example\nservice = node.create_service(AddTwoInts, 'add_two_ints', handle_add_two_ints)\n\n# Service client example\nclient = node.create_client(AddTwoInts, 'add_two_ints')\n"})}),"\n",(0,r.jsx)(n.h2,{id:"quality-of-service-qos",children:"Quality of Service (QoS)"}),"\n",(0,r.jsx)(n.p,{children:"QoS settings allow customization of communication behavior:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Reliability: Best effort or reliable delivery"}),"\n",(0,r.jsx)(n.li,{children:"Durability: Volatile or transient local durability"}),"\n",(0,r.jsx)(n.li,{children:"History: Keep last N messages or keep all messages"}),"\n",(0,r.jsx)(n.li,{children:"Rate limits: Maximum rate for message delivery"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"package-management",children:"Package Management"}),"\n",(0,r.jsx)(n.h3,{id:"packages",children:"Packages"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 packages contain:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Source code"}),"\n",(0,r.jsx)(n.li,{children:"Dependencies"}),"\n",(0,r.jsx)(n.li,{children:"Build instructions"}),"\n",(0,r.jsx)(n.li,{children:"Launch files"}),"\n",(0,r.jsx)(n.li,{children:"Configuration files"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"package-structure",children:"Package Structure"}),"\n",(0,r.jsx)(n.p,{children:"A typical ROS 2 package includes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"package_name/\n\u251c\u2500\u2500 CMakeLists.txt      # Build instructions for C++\n\u251c\u2500\u2500 package.xml         # Package metadata\n\u251c\u2500\u2500 src/                # Source code\n\u251c\u2500\u2500 include/            # Header files\n\u251c\u2500\u2500 launch/             # Launch files\n\u251c\u2500\u2500 config/             # Configuration files\n\u2514\u2500\u2500 test/               # Unit tests\n"})}),"\n",(0,r.jsx)(n.h2,{id:"build-system",children:"Build System"}),"\n",(0,r.jsxs)(n.p,{children:["ROS 2 uses the ",(0,r.jsx)(n.code,{children:"colcon"})," build system:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"colcon build"})," - Compiles packages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"colcon test"})," - Runs tests"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"colcon clean"})," - Removes build artifacts"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"launch-files",children:"Launch Files"}),"\n",(0,r.jsx)(n.p,{children:"Launch files allow starting multiple nodes simultaneously:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<launch>\n  <node pkg="package_name" exec="executable_name" name="node_name">\n    <param name="param_name" value="param_value"/>\n  </node>\n</launch>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"parameter-management",children:"Parameter Management"}),"\n",(0,r.jsx)(n.p,{children:"Parameters allow configuration of nodes at runtime:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Parameters can be set at launch time"}),"\n",(0,r.jsx)(n.li,{children:"Parameters can be changed dynamically"}),"\n",(0,r.jsx)(n.li,{children:"Parameter files can store configuration values"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"tools-and-utilities",children:"Tools and Utilities"}),"\n",(0,r.jsx)(n.h3,{id:"command-line-tools",children:"Command Line Tools"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ros2 run"})," - Execute a node"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ros2 topic"})," - Interact with topics"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ros2 service"})," - Interact with services"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ros2 action"})," - Interact with actions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ros2 param"})," - Manage parameters"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"visualization-tools",children:"Visualization Tools"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"RViz - 3D visualization tool"}),"\n",(0,r.jsx)(n.li,{children:"rqt - GUI plugin framework"}),"\n",(0,r.jsx)(n.li,{children:"ros2 bag - Data recording and playback"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"security-features",children:"Security Features"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 includes security features:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Authentication of nodes"}),"\n",(0,r.jsx)(n.li,{children:"Authorization of communication"}),"\n",(0,r.jsx)(n.li,{children:"Encryption of data"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"migration-from-ros-1",children:"Migration from ROS 1"}),"\n",(0,r.jsx)(n.p,{children:"Key differences from ROS 1:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"DDS (Data Distribution Service) as the underlying middleware"}),"\n",(0,r.jsx)(n.li,{children:"Improved real-time support"}),"\n",(0,r.jsx)(n.li,{children:"Better multi-robot support"}),"\n",(0,r.jsx)(n.li,{children:"Enhanced security features"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 provides a comprehensive framework for robot software development. Understanding its architecture and concepts is essential for building effective robotic applications. The modular design allows for flexible system composition while maintaining standard interfaces for interoperability."})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>a,x:()=>t});var s=i(6540);const r={},l=s.createContext(r);function a(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);